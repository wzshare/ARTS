# Week 38

> September 17 to September 23

## Algorithm：
 

## Review：


## Tip：
把一个 `UIView` 保存为 `UIImage`：
```objc
- (UIImage *)imageWithView:(UIView *)view
{
    UIGraphicsBeginImageContextWithOptions(view.bounds.size, view.opaque, 0.0f);
    [view.layer renderInContext:UIGraphicsGetCurrentContext()];
    UIImage * snapshotImage = UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext();
    return snapshotImage;
}
```

使用 `drawViewHierarchyInRect:afterScreenUpdates:` 比 `renderInContext:` 快很多。
```objc
- (UIImage *)snapshot:(UIView *)view
{
    // Create the image context
    UIGraphicsBeginImageContextWithOptions(view.bounds.size, NO, [UIScreen mainScreen].scale);
    // There he is! The new API method
    [view drawViewHierarchyInRect:view.bounds afterScreenUpdates:NO];
    // Get the snapshot
    UIImage *snapshotImage = UIGraphicsGetImageFromCurrentImageContext();
    snapshotImage = [snapshotImage imageWithHorizontallyFlippedOrientation];
    // Be nice and clean your mess up
    UIGraphicsEndImageContext();
    return snapshotImage;
}
```

## Share：